{"ast":null,"code":"export function backoff(params) {\n  var random = Math.random() + 1;\n  var _a = params.minTimeout,\n      minTimeout = _a === void 0 ? 500 : _a,\n      _b = params.factor,\n      factor = _b === void 0 ? 2 : _b,\n      attempt = params.attempt,\n      _c = params.maxTimeout,\n      maxTimeout = _c === void 0 ? Infinity : _c;\n  return Math.min(random * minTimeout * Math.pow(factor, attempt), maxTimeout);\n}","map":{"version":3,"sources":["/Users/apple/Sites/react-typescript-template/node_modules/@segment/analytics-next/src/lib/priority-queue/backoff.ts"],"names":[],"mappings":"AAcA,OAAM,SAAU,OAAV,CAAkB,MAAlB,EAAuC;AAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAL,KAAgB,CAA/B;AAEE,MAAA,EAAA,GAIE,MAAM,CAJQ,UAAhB;AAAA,MAAA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,GAAH,GAAM,EAAhB;AAAA,MACA,EAAA,GAGE,MAAM,CAHE,MADV;AAAA,MACA,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAH,GAAI,EADV;AAAA,MAEA,OAAO,GAEL,MAAM,CAFD,OAFP;AAAA,MAGA,EAAA,GACE,MAAM,CADa,UAHrB;AAAA,MAGA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,QAAH,GAAW,EAHrB;AAKF,SAAO,IAAI,CAAC,GAAL,CAAS,MAAM,GAAG,UAAT,GAAsB,IAAI,CAAC,GAAL,CAAS,MAAT,EAAiB,OAAjB,CAA/B,EAA0D,UAA1D,CAAP;AACD","sourcesContent":["type BackoffParams = {\n  /** The number of milliseconds before starting the first retry. Default is 500 */\n  minTimeout?: number\n\n  /** The maximum number of milliseconds between two retries. Default is Infinity */\n  maxTimeout?: number\n\n  /** The exponential factor to use. Default is 2. */\n  factor?: number\n\n  /** The current attempt */\n  attempt: number\n}\n\nexport function backoff(params: BackoffParams): number {\n  const random = Math.random() + 1\n  const {\n    minTimeout = 500,\n    factor = 2,\n    attempt,\n    maxTimeout = Infinity,\n  } = params\n  return Math.min(random * minTimeout * Math.pow(factor, attempt), maxTimeout)\n}\n"]},"metadata":{},"sourceType":"module"}