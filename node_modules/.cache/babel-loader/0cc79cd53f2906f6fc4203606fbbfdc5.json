{"ast":null,"code":"import unfetch from 'unfetch';\nvar fetch = unfetch;\n\nif (typeof window !== 'undefined') {\n  fetch = window.fetch || unfetch;\n}\n\nexport default function () {\n  function dispatch(url, body) {\n    return fetch(url, {\n      headers: {\n        'Content-Type': 'text/plain'\n      },\n      method: 'post',\n      body: JSON.stringify(body)\n    });\n  }\n\n  return {\n    dispatch: dispatch\n  };\n}","map":{"version":3,"sources":["/Users/apple/Sites/react-typescript-template/node_modules/@segment/analytics-next/src/plugins/segmentio/fetch-dispatcher.ts"],"names":[],"mappings":"AAAA,OAAO,OAAP,MAAoB,SAApB;AAEA,IAAI,KAAK,GAAG,OAAZ;;AACA,IAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,EAAA,KAAK,GAAG,MAAM,CAAC,KAAP,IAAgB,OAAxB;AACD;;AAID,eAAc,YAAA;AACZ,WAAS,QAAT,CAAkB,GAAlB,EAA+B,IAA/B,EAA2C;AACzC,WAAO,KAAK,CAAC,GAAD,EAAM;AAChB,MAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OADO;AAEhB,MAAA,MAAM,EAAE,MAFQ;AAGhB,MAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,IAAf;AAHU,KAAN,CAAZ;AAKD;;AAED,SAAO;AACL,IAAA,QAAQ,EAAA;AADH,GAAP;AAGD","sourcesContent":["import unfetch from 'unfetch'\n\nlet fetch = unfetch\nif (typeof window !== 'undefined') {\n  fetch = window.fetch || unfetch\n}\n\nexport type Dispatcher = (url: string, body: object) => Promise<unknown>\n\nexport default function (): { dispatch: Dispatcher } {\n  function dispatch(url: string, body: object): Promise<unknown> {\n    return fetch(url, {\n      headers: { 'Content-Type': 'text/plain' },\n      method: 'post',\n      body: JSON.stringify(body),\n    })\n  }\n\n  return {\n    dispatch,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}